<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How Large Language Models Work - Interactive Lesson</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0e27;
            --bg-light: #1a1f3a;
            --accent-primary: #00d9ff;
            --accent-secondary: #7b2ff7;
            --accent-tertiary: #ff006e;
            --text-primary: #ffffff;
            --text-secondary: #b8c5d6;
            --card-bg: rgba(26, 31, 58, 0.6);
            --glow: rgba(0, 217, 255, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated background */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #0d1129 50%, var(--bg-dark) 100%);
        }

        .background::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(123, 47, 247, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(0, 217, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255, 0, 110, 0.05) 0%, transparent 50%);
            animation: bgRotate 30s linear infinite;
        }

        @keyframes bgRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 40px;
            position: relative;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 80px;
            animation: fadeInDown 1s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 50%, var(--accent-tertiary) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            letter-spacing: -2px;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 400;
        }

        /* Progress bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
            width: 0%;
            transition: width 0.3s ease;
            z-index: 1000;
            box-shadow: 0 0 20px var(--glow);
        }

        /* Section */
        .section {
            margin-bottom: 100px;
            opacity: 1;
            transform: translateY(0);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .section.hidden {
            opacity: 0;
            transform: translateY(50px);
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-number {
            font-family: 'Space Mono', monospace;
            color: var(--accent-primary);
            font-size: 0.9rem;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 15px;
            display: inline-block;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            font-weight: 700;
            letter-spacing: -1px;
        }

        p {
            font-size: 1.15rem;
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.8;
        }

        /* Card */
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s ease;
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 217, 255, 0.2);
        }

        /* Visual Demo Boxes */
        .demo-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .demo-box {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1) 0%, rgba(123, 47, 247, 0.1) 100%);
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
        }

        .demo-box:hover {
            transform: scale(1.05);
            border-color: var(--accent-primary);
            box-shadow: 0 0 40px var(--glow);
        }

        .demo-box::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 15px;
            padding: 2px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .demo-box:hover::after {
            opacity: 1;
        }

        .demo-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .demo-title {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .demo-desc {
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        /* Token Animation */
        .token-animation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 40px;
            flex-wrap: wrap;
        }

        .token {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-dark);
            padding: 12px 20px;
            border-radius: 25px;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 0.9rem;
            animation: tokenPop 0.6s ease-out;
            animation-fill-mode: backwards;
            box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
        }

        .token:nth-child(1) { animation-delay: 0.1s; }
        .token:nth-child(2) { animation-delay: 0.2s; }
        .token:nth-child(3) { animation-delay: 0.3s; }
        .token:nth-child(4) { animation-delay: 0.4s; }
        .token:nth-child(5) { animation-delay: 0.5s; }
        .token:nth-child(6) { animation-delay: 0.6s; }

        @keyframes tokenPop {
            0% {
                opacity: 0;
                transform: scale(0.5) translateY(20px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Neural Network Visualization */
        .neural-net {
            position: relative;
            height: 400px;
            margin: 40px 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .layer {
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 2;
        }

        .neuron {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            box-shadow: 0 0 30px var(--glow);
            animation: pulse 2s ease-in-out infinite;
            position: relative;
        }

        .neuron::after {
            content: '';
            position: absolute;
            inset: -5px;
            border-radius: 50%;
            border: 2px solid var(--accent-primary);
            opacity: 0;
            animation: ripple 2s ease-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes ripple {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        .connection {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transform-origin: left;
            opacity: 0.6;
            animation: dataFlow 2s ease-in-out infinite;
        }

        @keyframes dataFlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Interactive Button */
        .interactive-btn {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-dark);
            border: none;
            padding: 18px 40px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.3);
            font-family: 'DM Sans', sans-serif;
            position: relative;
            overflow: hidden;
            margin-top: 20px;
        }

        .interactive-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .interactive-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .interactive-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 217, 255, 0.5);
        }

        .interactive-btn span {
            position: relative;
            z-index: 1;
        }

        /* Code block */
        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            font-family: 'Space Mono', monospace;
            font-size: 0.95rem;
            overflow-x: auto;
            position: relative;
        }

        .code-block::before {
            content: 'EXAMPLE';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 0.7rem;
            color: var(--accent-primary);
            font-weight: 700;
            letter-spacing: 2px;
        }

        .code-line {
            color: var(--text-secondary);
            margin: 8px 0;
        }

        .code-highlight {
            color: var(--accent-primary);
            font-weight: 700;
        }

        /* Key Concept Box */
        .key-concept {
            background: linear-gradient(135deg, rgba(255, 0, 110, 0.1) 0%, rgba(123, 47, 247, 0.1) 100%);
            border-left: 4px solid var(--accent-tertiary);
            padding: 25px 30px;
            margin: 30px 0;
            border-radius: 10px;
            position: relative;
        }

        .key-concept::before {
            content: 'ðŸ’¡';
            font-size: 2rem;
            position: absolute;
            top: 20px;
            right: 25px;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .key-concept h3 {
            color: var(--accent-tertiary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        /* List styling */
        ul {
            list-style: none;
            padding-left: 0;
        }

        li {
            padding-left: 30px;
            position: relative;
            margin: 15px 0;
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        li::before {
            content: 'â–¹';
            position: absolute;
            left: 0;
            color: var(--accent-primary);
            font-size: 1.5rem;
            line-height: 1;
        }

        /* Analogy box */
        .analogy {
            background: rgba(0, 217, 255, 0.05);
            border: 2px dashed rgba(0, 217, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .analogy-title {
            color: var(--accent-primary);
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 60px 20px;
            margin-top: 100px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        footer p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 40px 20px;
            }

            h1 {
                font-size: 2.5rem;
            }

            h2 {
                font-size: 2rem;
            }

            .neural-net {
                height: 300px;
            }

            .neuron {
                width: 40px;
                height: 40px;
                font-size: 0.8rem;
            }
        }

        /* Output display */
        .output-display {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--accent-primary);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            min-height: 100px;
            font-family: 'Space Mono', monospace;
            color: var(--accent-primary);
            display: none;
        }

        .output-display.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-effect {
            overflow: hidden;
            border-right: 2px solid var(--accent-primary);
            white-space: nowrap;
            animation: typing 3s steps(40) forwards, blink 0.5s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink {
            50% { border-color: transparent; }
        }

        /* System Architecture Diagram Styles */
        .architecture-diagram {
            display: flex;
            flex-direction: column;
            gap: 0;
            margin: 40px 0;
            position: relative;
        }

        .arch-layer {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.05) 0%, rgba(123, 47, 247, 0.05) 100%);
            border: 2px solid rgba(0, 217, 255, 0.2);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.5s ease;
            opacity: 1;
        }

        .arch-layer.active {
            opacity: 1;
            border-color: var(--accent-primary);
            box-shadow: 0 0 40px rgba(0, 217, 255, 0.4);
            transform: scale(1.02);
            animation: layerHighlight 0.5s ease-out;
        }

        @keyframes layerHighlight {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1.02); }
        }

        .arch-layer-large {
            padding: 30px;
        }

        .arch-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .arch-icon {
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
        }

        .arch-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .arch-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .data-packet {
            background: rgba(0, 217, 255, 0.1);
            border: 2px dashed var(--accent-primary);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-primary);
            animation: packetPulse 2s ease-in-out infinite;
        }

        @keyframes packetPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .process-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
        }

        .process-step {
            font-weight: 700;
            color: var(--accent-secondary);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .mini-tokens {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .mini-token {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-dark);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 3px 10px rgba(0, 217, 255, 0.3);
        }

        .embedding-viz {
            text-align: center;
        }

        .embed-vector {
            font-family: 'Space Mono', monospace;
            color: var(--accent-primary);
            font-size: 0.95rem;
            padding: 10px;
            background: rgba(0, 217, 255, 0.05);
            border-radius: 8px;
        }

        .transformer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .transformer-block {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .transformer-block:hover {
            border-color: var(--accent-primary);
            transform: translateY(-5px);
        }

        .block-title {
            font-weight: 700;
            font-size: 1.05rem;
            margin-bottom: 15px;
            color: var(--accent-primary);
            text-align: center;
        }

        .attention-heads {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }

        .attention-head {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(123, 47, 247, 0.2));
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            animation: headGlow 2s ease-in-out infinite;
        }

        .attention-head:nth-child(1) { animation-delay: 0s; }
        .attention-head:nth-child(2) { animation-delay: 0.2s; }
        .attention-head:nth-child(3) { animation-delay: 0.4s; }
        .attention-head:nth-child(4) { animation-delay: 0.6s; }

        @keyframes headGlow {
            0%, 100% { box-shadow: 0 0 10px rgba(0, 217, 255, 0.2); }
            50% { box-shadow: 0 0 20px rgba(0, 217, 255, 0.6); }
        }

        .ffn-layers {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin: 15px 0;
        }

        .ffn-layer {
            background: rgba(123, 47, 247, 0.2);
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            font-size: 0.85rem;
            border: 1px solid rgba(123, 47, 247, 0.4);
        }

        .norm-viz {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }

        .norm-bar {
            width: 60px;
            height: 80px;
            background: linear-gradient(to top, var(--accent-secondary), var(--accent-primary));
            border-radius: 5px;
            animation: normPulse 1.5s ease-in-out infinite;
        }

        .norm-bar:nth-child(1) { animation-delay: 0s; }
        .norm-bar:nth-child(2) { animation-delay: 0.3s; }
        .norm-bar:nth-child(3) { animation-delay: 0.6s; }

        @keyframes normPulse {
            0%, 100% { height: 80px; opacity: 1; }
            50% { height: 60px; opacity: 0.6; }
        }

        .block-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 10px;
        }

        .layer-repeat {
            text-align: center;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-tertiary);
            margin-top: 15px;
            padding: 15px;
            background: rgba(255, 0, 110, 0.1);
            border-radius: 8px;
        }

        .probability-bars {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .prob-bar {
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-weight: 700;
            color: var(--bg-dark);
            transition: width 1s ease;
        }

        .selected-token {
            background: linear-gradient(135deg, #00ff88, #00d9ff);
            color: var(--bg-dark);
            padding: 15px 30px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 700;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
            animation: tokenSelect 1s ease-in-out infinite;
        }

        @keyframes tokenSelect {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .loop-indicator {
            text-align: center;
            padding: 20px;
        }

        .loop-arrow {
            font-size: 3rem;
            color: var(--accent-primary);
            animation: rotate 2s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loop-text {
            margin-top: 10px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .generated-sequence {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .gen-token {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-dark);
            padding: 10px 18px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.95rem;
            opacity: 0;
            animation: genTokenAppear 0.5s ease-out forwards;
        }

        .gen-token:nth-child(1) { animation-delay: 0.1s; }
        .gen-token:nth-child(2) { animation-delay: 0.3s; }
        .gen-token:nth-child(3) { animation-delay: 0.5s; }
        .gen-token:nth-child(4) { animation-delay: 0.7s; }
        .gen-token:nth-child(5) { animation-delay: 0.9s; }
        .gen-token:nth-child(6) { animation-delay: 1.1s; }
        .gen-token:nth-child(7) { animation-delay: 1.3s; }
        .gen-token:nth-child(8) { animation-delay: 1.5s; }

        @keyframes genTokenAppear {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .final-response {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 217, 255, 0.1));
            border: 2px solid rgba(0, 255, 136, 0.4);
            border-radius: 10px;
            padding: 25px;
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-primary);
            text-align: center;
        }

        .flow-arrow {
            text-align: center;
            font-size: 2.5rem;
            color: var(--accent-primary);
            margin: 10px 0;
            animation: arrowBounce 2s ease-in-out infinite;
        }

        @keyframes arrowBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }

        /* Detailed Conversion Styles */
        .detailed-conversion {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 217, 255, 0.4);
        }

        .conversion-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .conversion-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(0, 217, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .conversion-token {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-dark);
            padding: 8px 16px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 1rem;
        }

        .conversion-arrow {
            font-size: 1.5rem;
            color: var(--accent-primary);
            animation: pulse 2s ease-in-out infinite;
        }

        .conversion-id {
            font-family: 'Space Mono', monospace;
            color: var(--accent-tertiary);
            font-weight: 700;
            font-size: 1rem;
            background: rgba(255, 0, 110, 0.1);
            padding: 8px 16px;
            border-radius: 8px;
        }

        .conversion-note {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 217, 255, 0.05);
            border-left: 3px solid var(--accent-primary);
            border-radius: 5px;
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        .conversion-note strong {
            color: var(--accent-primary);
        }

        /* Embedding Explanation Styles */
        .embedding-explanation {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .embedding-example {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .embed-token-id {
            font-family: 'Space Mono', monospace;
            color: var(--accent-tertiary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .embed-arrow {
            font-size: 2rem;
            color: var(--accent-primary);
        }

        .embed-vector-full {
            width: 100%;
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(0, 217, 255, 0.3);
        }

        .vector-label {
            color: var(--accent-primary);
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .vector-visualization {
            overflow-x: auto;
        }

        .vector-row {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .vector-val {
            font-family: 'Space Mono', monospace;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 700;
            min-width: 70px;
            text-align: center;
        }

        .vector-val.positive {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            border: 1px solid rgba(0, 255, 136, 0.4);
        }

        .vector-val.negative {
            background: rgba(255, 0, 110, 0.2);
            color: #ff006e;
            border: 1px solid rgba(255, 0, 110, 0.4);
        }

        .vector-dots {
            font-size: 1.5rem;
            color: var(--text-secondary);
        }

        .embedding-bars {
            display: flex;
            gap: 8px;
            justify-content: center;
            align-items: flex-end;
            height: 100px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }

        .embed-bar {
            width: 20px;
            background: linear-gradient(to top, var(--accent-secondary), var(--accent-primary));
            border-radius: 4px 4px 0 0;
            animation: embedPulse 2s ease-in-out infinite;
        }

        .embed-bar:nth-child(1) { animation-delay: 0s; }
        .embed-bar:nth-child(2) { animation-delay: 0.2s; }
        .embed-bar:nth-child(3) { animation-delay: 0.4s; }
        .embed-bar:nth-child(4) { animation-delay: 0.6s; }
        .embed-bar:nth-child(5) { animation-delay: 0.8s; }
        .embed-bar:nth-child(6) { animation-delay: 1s; }
        .embed-bar:nth-child(7) { animation-delay: 1.2s; }
        .embed-bar:nth-child(8) { animation-delay: 1.4s; }

        @keyframes embedPulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Embedding How It Works Styles */
        .embedding-how-it-works {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-bottom: 20px;
        }

        .embedding-concept {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(123, 47, 247, 0.1));
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
        }

        .concept-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 15px;
        }

        .concept-text {
            font-size: 1rem;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .concept-text strong {
            color: var(--accent-secondary);
        }

        /* Embedding Matrix Visualization */
        .embedding-matrix-viz {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(123, 47, 247, 0.4);
            border-radius: 12px;
            padding: 25px;
            overflow-x: auto;
        }

        .matrix-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--accent-secondary);
            text-align: center;
            margin-bottom: 20px;
        }

        .matrix-container {
            display: flex;
            gap: 0;
            align-items: center;
            justify-content: center;
        }

        .matrix-labels {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding-right: 15px;
            border-right: 2px solid rgba(255, 255, 255, 0.2);
        }

        .label-row {
            font-weight: 700;
            color: var(--accent-primary);
            font-size: 0.9rem;
            padding: 8px 10px;
        }

        .label-value {
            font-family: 'Space Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-secondary);
            padding: 6px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .label-value.highlight {
            background: rgba(255, 0, 110, 0.2);
            color: var(--accent-tertiary);
            font-weight: 700;
            border: 2px solid var(--accent-tertiary);
            animation: highlightPulse 2s ease-in-out infinite;
        }

        @keyframes highlightPulse {
            0%, 100% { box-shadow: 0 0 10px rgba(255, 0, 110, 0.3); }
            50% { box-shadow: 0 0 20px rgba(255, 0, 110, 0.6); }
        }

        .matrix-grid {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-left: 15px;
        }

        .matrix-arrow {
            font-size: 2rem;
            color: var(--accent-primary);
            animation: pulse 2s ease-in-out infinite;
        }

        .matrix-rows {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .matrix-data-row {
            height: 25px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 0 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .matrix-data-row.dim {
            opacity: 0.3;
        }

        .matrix-data-row.dots {
            justify-content: center;
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .matrix-data-row.highlight-row {
            background: rgba(255, 0, 110, 0.15);
            border: 2px solid var(--accent-tertiary);
            animation: rowGlow 2s ease-in-out infinite;
        }

        @keyframes rowGlow {
            0%, 100% { box-shadow: 0 0 10px rgba(255, 0, 110, 0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 0, 110, 0.7); }
        }

        .cell {
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            color: var(--accent-primary);
            font-weight: 600;
            min-width: 45px;
            text-align: center;
        }

        .dots-cell {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .dimension-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-left: 15px;
            border-left: 2px solid rgba(255, 255, 255, 0.2);
        }

        .dim-arrow {
            font-size: 2rem;
            color: var(--accent-secondary);
            animation: arrowBounce 2s ease-in-out infinite;
        }

        .dim-label {
            font-size: 0.85rem;
            color: var(--accent-secondary);
            font-weight: 700;
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        /* Lookup Process Styles */
        .lookup-process {
            background: rgba(0, 217, 255, 0.05);
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
        }

        .lookup-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--accent-primary);
            margin-bottom: 20px;
        }

        .lookup-steps {
            display: flex;
            align-items: center;
            justify-content: space-around;
            gap: 15px;
            flex-wrap: wrap;
        }

        .lookup-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            min-width: 150px;
        }

        .step-num {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--bg-dark);
            box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
            animation: stepPulse 2s ease-in-out infinite;
        }

        .lookup-step:nth-child(1) .step-num { animation-delay: 0s; }
        .lookup-step:nth-child(3) .step-num { animation-delay: 0.3s; }
        .lookup-step:nth-child(5) .step-num { animation-delay: 0.6s; }

        @keyframes stepPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .step-content {
            text-align: center;
        }

        .step-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .step-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-family: 'Space Mono', monospace;
        }

        .lookup-arrow {
            font-size: 2rem;
            color: var(--accent-primary);
            animation: pulse 2s ease-in-out infinite;
        }

        /* Embedding Properties Styles */
        .embedding-properties {
            background: linear-gradient(135deg, rgba(123, 47, 247, 0.05), rgba(255, 0, 110, 0.05));
            border: 2px solid rgba(123, 47, 247, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
        }

        .property-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-secondary);
            margin-bottom: 20px;
            text-align: center;
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .property-item {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .property-item:hover {
            transform: translateY(-5px);
            border-color: var(--accent-primary);
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.3);
        }

        .property-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            animation: float 3s ease-in-out infinite;
        }

        .property-item:nth-child(1) .property-icon { animation-delay: 0s; }
        .property-item:nth-child(2) .property-icon { animation-delay: 0.5s; }
        .property-item:nth-child(3) .property-icon { animation-delay: 1s; }
        .property-item:nth-child(4) .property-icon { animation-delay: 1.5s; }

        .property-name {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--accent-primary);
            margin-bottom: 10px;
        }

        .property-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Responsive adjustments for embedding section */
        @media (max-width: 768px) {
            .matrix-container {
                flex-direction: column;
                gap: 20px;
            }

            .matrix-labels {
                border-right: none;
                border-bottom: 2px solid rgba(255, 255, 255, 0.2);
                padding-right: 0;
                padding-bottom: 15px;
            }

            .matrix-grid {
                padding-left: 0;
                padding-top: 15px;
                flex-direction: column;
            }

            .dimension-indicator {
                border-left: none;
                border-top: 2px solid rgba(255, 255, 255, 0.2);
                padding-left: 0;
                padding-top: 15px;
                flex-direction: row;
            }

            .dim-label {
                writing-mode: horizontal-tb;
            }

            .lookup-steps {
                flex-direction: column;
            }

            .lookup-arrow {
                transform: rotate(90deg);
            }
        }

        /* Transformer Detailed Section Styles */
        .transformer-detailed-section {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(123, 47, 247, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .detailed-section-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-secondary);
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(123, 47, 247, 0.3);
        }

        .attention-detailed {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .attention-step-box {
            background: rgba(0, 217, 255, 0.05);
            border: 1px solid rgba(0, 217, 255, 0.3);
            border-radius: 12px;
            padding: 20px;
        }

        .step-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--accent-primary);
            margin-bottom: 20px;
        }

        .qkv-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .qkv-item {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid;
            transition: all 0.3s ease;
        }

        .qkv-item.query {
            border-color: rgba(0, 217, 255, 0.5);
        }

        .qkv-item.key {
            border-color: rgba(123, 47, 247, 0.5);
        }

        .qkv-item.value {
            border-color: rgba(255, 0, 110, 0.5);
        }

        .qkv-item:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px currentColor;
        }

        .qkv-label {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .qkv-item.query .qkv-label { color: var(--accent-primary); }
        .qkv-item.key .qkv-label { color: var(--accent-secondary); }
        .qkv-item.value .qkv-label { color: var(--accent-tertiary); }

        .qkv-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-style: italic;
        }

        .matrix-viz {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .matrix-row {
            height: 8px;
            background: linear-gradient(90deg, currentColor, transparent);
            border-radius: 4px;
            animation: matrixFlow 2s ease-in-out infinite;
        }

        @keyframes matrixFlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }

        .math-formula {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            font-family: 'Space Mono', monospace;
            color: var(--accent-primary);
            text-align: center;
            font-size: 0.95rem;
        }

        .attention-calculation {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .calc-step {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }

        .calc-text {
            font-family: 'Space Mono', monospace;
            color: var(--accent-primary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .calc-arrow {
            font-size: 1.5rem;
            color: var(--accent-secondary);
        }

        .attention-matrix {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
        }

        .attention-grid-header,
        .attention-grid-row {
            display: grid;
            grid-template-columns: 80px repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .attention-grid-header {
            font-weight: 700;
            color: var(--accent-primary);
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0, 217, 255, 0.3);
        }

        .row-label {
            font-weight: 700;
            color: var(--accent-secondary);
        }

        .score {
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-weight: 700;
            font-family: 'Space Mono', monospace;
        }

        .score.high {
            background: rgba(0, 255, 136, 0.3);
            color: #00ff88;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
        }

        .score.medium {
            background: rgba(0, 217, 255, 0.3);
            color: var(--accent-primary);
        }

        .score.low {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
        }

        .attention-heads-detailed {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .attention-head-detailed {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(123, 47, 247, 0.1));
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .attention-head-detailed:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.4);
        }

        .head-label {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--accent-primary);
            margin-bottom: 10px;
        }

        .head-focus {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* FFN Detailed Styles */
        .ffn-detailed {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .ffn-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            flex-wrap: wrap;
        }

        .ffn-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            min-width: 140px;
        }

        .ffn-stage-label {
            font-weight: 700;
            color: var(--accent-secondary);
            font-size: 0.95rem;
        }

        .ffn-neurons {
            display: flex;
            gap: 8px;
            padding: 15px;
            background: rgba(123, 47, 247, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(123, 47, 247, 0.3);
        }

        .neuron-small {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            animation: neuronPulse 1.5s ease-in-out infinite;
            box-shadow: 0 0 10px var(--glow);
        }

        @keyframes neuronPulse {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        .dimension-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        .ffn-arrow {
            font-size: 2rem;
            color: var(--accent-primary);
            animation: pulse 2s ease-in-out infinite;
        }

        .activation-viz {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 15px;
        }

        .activation-graph {
            width: 80px;
            height: 80px;
            position: relative;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            border: 1px solid rgba(0, 217, 255, 0.3);
        }

        .activation-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50%;
            height: 2px;
            background: var(--accent-tertiary);
        }

        .activation-line::after {
            content: '';
            position: absolute;
            left: 100%;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top right, var(--accent-tertiary), var(--accent-primary));
            clip-path: polygon(0 100%, 100% 0, 100% 100%);
        }

        .activation-formula {
            font-family: 'Space Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent-primary);
        }

        /* Residual Connection Styles */
        .residual-flow {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .residual-diagram {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .residual-path {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .path-label {
            font-weight: 700;
            color: var(--accent-primary);
            font-size: 0.95rem;
        }

        .path-box {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(123, 47, 247, 0.2));
            border: 2px solid var(--accent-primary);
            border-radius: 10px;
            padding: 15px 25px;
            font-weight: 600;
            text-align: center;
        }

        .path-arrow {
            font-size: 2rem;
            color: var(--accent-primary);
        }

        .residual-connection {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .connection-line {
            width: 3px;
            height: 100px;
            background: linear-gradient(to bottom, var(--accent-tertiary), var(--accent-secondary));
            border-radius: 3px;
            animation: connectionFlow 2s ease-in-out infinite;
        }

        @keyframes connectionFlow {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }

        .connection-label {
            font-weight: 700;
            color: var(--accent-tertiary);
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .residual-add {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .add-symbol {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-secondary), var(--accent-tertiary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: var(--bg-dark);
            box-shadow: 0 0 20px var(--glow);
        }

        .add-label {
            font-weight: 700;
            color: var(--accent-secondary);
        }

        .add-formula {
            font-family: 'Space Mono', monospace;
            font-size: 0.9rem;
            color: var(--accent-primary);
            background: rgba(0, 0, 0, 0.4);
            padding: 10px 15px;
            border-radius: 8px;
        }

        /* Responsive adjustments for detailed sections */
        @media (max-width: 968px) {
            .qkv-grid {
                grid-template-columns: 1fr;
            }

            .ffn-flow {
                flex-direction: column;
            }

            .residual-diagram {
                grid-template-columns: 1fr;
            }

            .attention-grid-header,
            .attention-grid-row {
                grid-template-columns: 60px repeat(4, 1fr);
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="background"></div>
    <div class="progress-bar" id="progressBar"></div>

    <div class="container">
        <header>
            <h1>How Large Language Models Work</h1>
            <p class="subtitle">An interactive journey into the world of AI that powers ChatGPT and Claude</p>
        </header>

        <!-- Section 1: Introduction -->
        <section class="section">
            <span class="section-number">01 â€” INTRODUCTION</span>
            <h2>What is a Large Language Model?</h2>
            <p>
                Imagine having a conversation with a computer that understands you almost like a human would. That's what Large Language Models (LLMs) like ChatGPT, Claude, and GPT-4 do! They're powerful AI systems trained to understand and generate human-like text.
            </p>

            <div class="card">
                <p>
                    <strong>Think of an LLM as a highly intelligent pattern recognition system.</strong> It has read millions of books, articles, websites, and conversations to learn how language works. From this vast amount of text, it learns the patterns, structures, and relationships between words and ideas.
                </p>
            </div>

            <div class="demo-container">
                <div class="demo-box">
                    <div class="demo-icon">ðŸ“š</div>
                    <div class="demo-title">Trained on Text</div>
                    <div class="demo-desc">Billions of words from books, websites, and conversations</div>
                </div>
                <div class="demo-box">
                    <div class="demo-icon">ðŸ§ </div>
                    <div class="demo-title">Learns Patterns</div>
                    <div class="demo-desc">Discovers how words relate to each other</div>
                </div>
                <div class="demo-box">
                    <div class="demo-icon">ðŸ’¬</div>
                    <div class="demo-title">Generates Text</div>
                    <div class="demo-desc">Creates human-like responses</div>
                </div>
            </div>
        </section>

        <!-- Section 2: Tokenization -->
        <section class="section">
            <span class="section-number">02 â€” TOKENIZATION</span>
            <h2>Breaking Down Language: Tokens</h2>
            <p>
                Before an LLM can understand your text, it needs to break it down into smaller pieces called <strong>tokens</strong>. Think of tokens as the building blocks of language.
            </p>

            <div class="analogy">
                <div class="analogy-title">ðŸ§© Analogy Time</div>
                <p>
                    Imagine you're building with LEGO blocks. You can't just pour all the pieces into place at once. First, you organize them into individual blocks, then combine them to build something amazing. Tokens work the same way!
                </p>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: var(--accent-primary);">See Tokenization in Action</h3>
                <p>When you type: <strong>"Hello, how are you today?"</strong></p>
                <p>The LLM breaks it into tokens like this:</p>
                <div class="token-animation">
                    <span class="token">Hello</span>
                    <span class="token">,</span>
                    <span class="token">how</span>
                    <span class="token">are</span>
                    <span class="token">you</span>
                    <span class="token">today</span>
                    <span class="token">?</span>
                </div>
            </div>

            <div class="key-concept">
                <h3>Key Concept</h3>
                <p>
                    Each token is converted into numbers (called embeddings) that the neural network can process. Common words might be one token, while rare or complex words might be split into multiple tokens.
                </p>
            </div>
        </section>

        <!-- Section 3: Neural Networks -->
        <section class="section">
            <span class="section-number">03 â€” NEURAL NETWORKS</span>
            <h2>The Brain Behind the Magic</h2>
            <p>
                At the heart of every LLM is a <strong>neural network</strong> â€” a system inspired by how your brain works! It consists of layers of interconnected "neurons" that process information.
            </p>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: var(--accent-secondary);">Simplified Neural Network</h3>
                <div class="neural-net">
                    <div class="layer">
                        <div class="neuron">ðŸ“¥</div>
                        <div class="neuron">ðŸ“¥</div>
                        <div class="neuron">ðŸ“¥</div>
                    </div>
                    <div class="layer">
                        <div class="neuron">ðŸ”„</div>
                        <div class="neuron">ðŸ”„</div>
                        <div class="neuron">ðŸ”„</div>
                        <div class="neuron">ðŸ”„</div>
                    </div>
                    <div class="layer">
                        <div class="neuron">ðŸ”„</div>
                        <div class="neuron">ðŸ”„</div>
                        <div class="neuron">ðŸ”„</div>
                        <div class="neuron">ðŸ”„</div>
                    </div>
                    <div class="layer">
                        <div class="neuron">ðŸ“¤</div>
                        <div class="neuron">ðŸ“¤</div>
                        <div class="neuron">ðŸ“¤</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <p style="font-size: 0.95rem;"><strong>Input Layer</strong> â†’ <strong>Hidden Layers</strong> â†’ <strong>Output Layer</strong></p>
                </div>
            </div>

            <div class="analogy">
                <div class="analogy-title">ðŸŽ¯ Analogy Time</div>
                <p>
                    Think of a neural network like a game of telephone, but way smarter! Information passes through many layers, and at each layer, the network extracts different features and patterns. The first layers might recognize simple patterns like common word pairs, while deeper layers understand complex concepts like context and meaning.
                </p>
            </div>

            <ul>
                <li><strong>Input Layer:</strong> Receives your tokenized text</li>
                <li><strong>Hidden Layers:</strong> Process and understand patterns (modern LLMs have hundreds of these!)</li>
                <li><strong>Output Layer:</strong> Predicts what word should come next</li>
            </ul>
        </section>

        <!-- Section 4: Transformers -->
        <section class="section">
            <span class="section-number">04 â€” TRANSFORMERS</span>
            <h2>The Transformer Architecture</h2>
            <p>
                The secret sauce of modern LLMs is the <strong>Transformer architecture</strong>. Introduced in 2017, it revolutionized how AI understands language!
            </p>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: var(--accent-tertiary);">What Makes Transformers Special?</h3>
                <p>
                    Unlike older models that read text word-by-word sequentially, Transformers can look at all words in a sentence simultaneously. This is powered by something called <strong>attention</strong>.
                </p>
            </div>

            <div class="key-concept">
                <h3>The Attention Mechanism</h3>
                <p>
                    Attention allows the model to focus on relevant words when understanding context. For example, in the sentence "The bank of the river was steep," attention helps the model understand that "bank" relates to "river" (not a financial institution) by paying attention to nearby words.
                </p>
            </div>

            <div class="demo-container">
                <div class="demo-box">
                    <div class="demo-icon">ðŸ‘ï¸</div>
                    <div class="demo-title">Self-Attention</div>
                    <div class="demo-desc">Understands relationships between all words</div>
                </div>
                <div class="demo-box">
                    <div class="demo-icon">âš¡</div>
                    <div class="demo-title">Parallel Processing</div>
                    <div class="demo-desc">Processes entire sentences at once</div>
                </div>
                <div class="demo-box">
                    <div class="demo-icon">ðŸŽ¯</div>
                    <div class="demo-title">Context Aware</div>
                    <div class="demo-desc">Maintains long-range dependencies</div>
                </div>
            </div>

            <div class="code-block">
                <div class="code-line">Query: <span class="code-highlight">"What word is most important here?"</span></div>
                <div class="code-line">Key: <span class="code-highlight">"What information does each word contain?"</span></div>
                <div class="code-line">Value: <span class="code-highlight">"What is the actual information?"</span></div>
                <div class="code-line" style="margin-top: 15px; color: var(--text-secondary);">â†’ Attention score determines which words to focus on!</div>
            </div>
        </section>

        <!-- Section 5: Training -->
        <section class="section">
            <span class="section-number">05 â€” TRAINING PROCESS</span>
            <h2>How LLMs Learn</h2>
            <p>
                Training an LLM is like teaching it to be really good at predicting what comes next. The model reads massive amounts of text and learns to guess the next word in a sentence.
            </p>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: var(--accent-primary);">The Training Loop</h3>
                <ul>
                    <li><strong>Step 1:</strong> Show the model a sentence with the last word hidden</li>
                    <li><strong>Step 2:</strong> Model predicts what word comes next</li>
                    <li><strong>Step 3:</strong> Compare prediction with the actual word</li>
                    <li><strong>Step 4:</strong> Adjust the model's internal parameters to improve</li>
                    <li><strong>Step 5:</strong> Repeat billions of times!</li>
                </ul>
            </div>

            <div class="analogy">
                <div class="analogy-title">ðŸŽ® Analogy Time</div>
                <p>
                    Think of training an LLM like learning to play a video game. At first, you're terrible and make lots of mistakes. But with practice (billions of examples), you get better and better at predicting what to do in different situations. The LLM does the same with language!
                </p>
            </div>

            <div class="key-concept">
                <h3>Training Stats</h3>
                <p>
                    Modern LLMs like GPT-4 are trained on hundreds of billions of words, use billions of parameters (adjustable numbers), and require thousands of powerful GPUs running for months. The cost? Millions of dollars!
                </p>
            </div>
        </section>

        <!-- Section 6: Generation -->
        <section class="section">
            <span class="section-number">06 â€” TEXT GENERATION</span>
            <h2>How LLMs Generate Responses</h2>
            <p>
                When you ask an LLM a question, it doesn't have pre-written answers. Instead, it generates text one token at a time, predicting what should come next based on everything it has learned.
            </p>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: var(--accent-secondary);">The Generation Process</h3>
                
                <div class="code-block">
                    <div class="code-line">You: <span class="code-highlight">"The sky is"</span></div>
                    <div class="code-line">Model thinks: <span style="color: var(--text-secondary);">blue (60%), clear (20%), gray (15%), beautiful (5%)</span></div>
                    <div class="code-line">Model selects: <span class="code-highlight">"blue"</span></div>
                    <div class="code-line" style="margin-top: 10px;">Now the prompt is: <span class="code-highlight">"The sky is blue"</span></div>
                    <div class="code-line">Model thinks: <span style="color: var(--text-secondary);">and (30%), with (25%), today (20%), ...</span></div>
                    <div class="code-line">Model selects: <span class="code-highlight">"and"</span></div>
                    <div class="code-line" style="margin-top: 10px; color: var(--accent-primary);">â†’ Continues until complete response is generated!</div>
                </div>

                <button class="interactive-btn" onclick="generateExample()">
                    <span>ðŸŽ² See Generation in Action</span>
                </button>

                <div class="output-display" id="outputDisplay"></div>
            </div>

            <div class="key-concept">
                <h3>Temperature & Randomness</h3>
                <p>
                    LLMs use a "temperature" setting to control randomness. Low temperature (0.1-0.5) makes outputs more predictable and focused. High temperature (0.7-1.0) makes outputs more creative and diverse. This is why the same question can get slightly different answers!
                </p>
            </div>
        </section>

        <!-- Section 7: Fine-tuning -->
        <section class="section">
            <span class="section-number">07 â€” FINE-TUNING & ALIGNMENT</span>
            <h2>Making LLMs Helpful and Safe</h2>
            <p>
                After initial training, LLMs go through additional training to make them more helpful, harmless, and honest. This process is called <strong>fine-tuning</strong> or <strong>alignment</strong>.
            </p>

            <div class="demo-container">
                <div class="demo-box">
                    <div class="demo-icon">ðŸŽ¯</div>
                    <div class="demo-title">Instruction Following</div>
                    <div class="demo-desc">Trained to follow user instructions carefully</div>
                </div>
                <div class="demo-box">
                    <div class="demo-icon">ðŸ›¡ï¸</div>
                    <div class="demo-title">Safety Training</div>
                    <div class="demo-desc">Learns to avoid harmful or biased outputs</div>
                </div>
                <div class="demo-box">
                    <div class="demo-icon">â­</div>
                    <div class="demo-title">Human Feedback</div>
                    <div class="demo-desc">Improved using ratings from human reviewers</div>
                </div>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: var(--accent-tertiary);">RLHF: Reinforcement Learning from Human Feedback</h3>
                <p>
                    One powerful technique is RLHF, where humans rate different responses the model generates. The model learns to produce responses that humans prefer. It's like getting report cards that help the model improve!
                </p>
                <ul style="margin-top: 20px;">
                    <li>Humans compare multiple model responses</li>
                    <li>Rate which responses are more helpful</li>
                    <li>Model learns to generate better responses</li>
                    <li>Process repeats to continually improve</li>
                </ul>
            </div>
        </section>

        <!-- Section 8: Limitations -->
        <section class="section">
            <span class="section-number">08 â€” LIMITATIONS</span>
            <h2>What LLMs Can't Do</h2>
            <p>
                While LLMs are incredibly powerful, they have important limitations to understand:
            </p>

            <div class="card">
                <ul>
                    <li><strong>No Real Understanding:</strong> LLMs work by pattern matching, not true comprehension. They don't "understand" like humans do.</li>
                    <li><strong>Knowledge Cutoff:</strong> They only know information up to their training date. They can't access real-time information (without additional tools).</li>
                    <li><strong>Hallucinations:</strong> Sometimes LLMs confidently state false information that sounds plausible. Always verify important facts!</li>
                    <li><strong>No Memory:</strong> Each conversation starts fresh unless explicitly given context. They don't remember previous chats.</li>
                    <li><strong>Computation Limits:</strong> They can't do complex math or reasoning perfectly, especially with large numbers.</li>
                    <li><strong>Biases:</strong> LLMs can reflect biases present in their training data.</li>
                </ul>
            </div>

            <div class="key-concept">
                <h3>Remember This!</h3>
                <p>
                    LLMs are powerful tools that predict text based on patterns, not sentient beings that truly understand the world. Use them wisely, verify important information, and understand their limitations!
                </p>
            </div>
        </section>

        <!-- Section 9: System Design Diagram -->
        <section class="section" style="background: rgba(255, 0, 0, 0.1); border: 5px solid red; padding: 20px;">
            <div style="background: yellow; color: black; padding: 20px; font-size: 2rem; font-weight: bold; text-align: center; margin-bottom: 20px;">
                âš ï¸ SECTION 9 IS HERE - SYSTEM ARCHITECTURE âš ï¸
            </div>
            <span class="section-number">09 â€” SYSTEM ARCHITECTURE</span>
            <h2>Complete System Design</h2>
            <p>
                Let's visualize the entire LLM system architecture with all its components working together. Watch how data flows through the system from input to output!
            </p>

            <div class="card">
                <h3 style="margin-bottom: 30px; color: var(--accent-primary); text-align: center;">Interactive System Architecture Diagram</h3>
                
                <div class="architecture-diagram">
                    <!-- Input Layer -->
                    <div class="arch-layer" id="inputLayer">
                        <div class="arch-header">
                            <span class="arch-icon">ðŸ“</span>
                            <span class="arch-title">User Input</span>
                        </div>
                        <div class="arch-content">
                            <div class="data-packet">
                                "What is AI?"
                            </div>
                        </div>
                    </div>

                    <div class="flow-arrow">â†“</div>

                    <!-- Preprocessing Layer -->
                    <div class="arch-layer" id="preprocessLayer">
                        <div class="arch-header">
                            <span class="arch-icon">ðŸ”§</span>
                            <span class="arch-title">Preprocessing</span>
                        </div>
                        <div class="arch-content">
                            <div class="process-box">
                                <div class="process-step">Step 1: Tokenization</div>
                                <div class="mini-tokens">
                                    <span class="mini-token">What</span>
                                    <span class="mini-token">is</span>
                                    <span class="mini-token">AI</span>
                                    <span class="mini-token">?</span>
                                </div>
                            </div>
                            
                            <div class="process-box detailed-conversion">
                                <div class="process-step">Step 2: Token to Number Conversion</div>
                                <div class="conversion-grid">
                                    <div class="conversion-item">
                                        <div class="conversion-token">What</div>
                                        <div class="conversion-arrow">â†’</div>
                                        <div class="conversion-id">Token ID: 2264</div>
                                    </div>
                                    <div class="conversion-item">
                                        <div class="conversion-token">is</div>
                                        <div class="conversion-arrow">â†’</div>
                                        <div class="conversion-id">Token ID: 318</div>
                                    </div>
                                    <div class="conversion-item">
                                        <div class="conversion-token">AI</div>
                                        <div class="conversion-arrow">â†’</div>
                                        <div class="conversion-id">Token ID: 9552</div>
                                    </div>
                                    <div class="conversion-item">
                                        <div class="conversion-token">?</div>
                                        <div class="conversion-arrow">â†’</div>
                                        <div class="conversion-id">Token ID: 30</div>
                                    </div>
                                </div>
                                <div class="conversion-note">
                                    <strong>Vocabulary Lookup:</strong> Each token is matched to a unique ID from a vocabulary of 50,000+ tokens
                                </div>
                            </div>

                            <div class="process-box detailed-conversion">
                                <div class="process-step">Step 3: Embedding (Numbers to Vectors)</div>
                                
                                <div class="embedding-how-it-works">
                                    <div class="embedding-concept">
                                        <div class="concept-title">ðŸŽ¯ How Embeddings Work</div>
                                        <p class="concept-text">
                                            Each token ID is used to look up a row in a large <strong>Embedding Matrix</strong>. This matrix is learned during training and contains the "meaning" of each token as a vector of numbers.
                                        </p>
                                    </div>

                                    <div class="embedding-matrix-viz">
                                        <div class="matrix-title">Embedding Matrix (Vocabulary Ã— Dimension)</div>
                                        <div class="matrix-container">
                                            <div class="matrix-labels">
                                                <div class="label-row">Token ID</div>
                                                <div class="label-value">0: [PAD]</div>
                                                <div class="label-value">1: [START]</div>
                                                <div class="label-value">...</div>
                                                <div class="label-value highlight">2264: "What"</div>
                                                <div class="label-value">...</div>
                                                <div class="label-value">50000+</div>
                                            </div>
                                            <div class="matrix-grid">
                                                <div class="matrix-arrow">â†’</div>
                                                <div class="matrix-rows">
                                                    <div class="matrix-data-row dim"></div>
                                                    <div class="matrix-data-row dim"></div>
                                                    <div class="matrix-data-row dots">...</div>
                                                    <div class="matrix-data-row highlight-row">
                                                        <span class="cell">0.23</span>
                                                        <span class="cell">-0.45</span>
                                                        <span class="cell">0.67</span>
                                                        <span class="cell">-0.12</span>
                                                        <span class="cell">0.89</span>
                                                        <span class="dots-cell">...</span>
                                                        <span class="cell">0.45</span>
                                                    </div>
                                                    <div class="matrix-data-row dots">...</div>
                                                    <div class="matrix-data-row dim"></div>
                                                </div>
                                                <div class="dimension-indicator">
                                                    <div class="dim-arrow">â†•</div>
                                                    <div class="dim-label">768 dimensions</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="lookup-process">
                                        <div class="lookup-title">The Lookup Process:</div>
                                        <div class="lookup-steps">
                                            <div class="lookup-step">
                                                <div class="step-num">1</div>
                                                <div class="step-content">
                                                    <div class="step-name">Token ID Input</div>
                                                    <div class="step-desc">Token ID: 2264</div>
                                                </div>
                                            </div>
                                            <div class="lookup-arrow">â†’</div>
                                            <div class="lookup-step">
                                                <div class="step-num">2</div>
                                                <div class="step-content">
                                                    <div class="step-name">Matrix Lookup</div>
                                                    <div class="step-desc">Access row 2264</div>
                                                </div>
                                            </div>
                                            <div class="lookup-arrow">â†’</div>
                                            <div class="lookup-step">
                                                <div class="step-num">3</div>
                                                <div class="step-content">
                                                    <div class="step-name">Retrieve Vector</div>
                                                    <div class="step-desc">Get 768 numbers</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="embedding-explanation">
                                    <div class="embedding-example">
                                        <div class="embed-token-id">Token ID: 2264 ("What")</div>
                                        <div class="embed-arrow">â†“</div>
                                        <div class="embed-vector-full">
                                            <div class="vector-label">768-Dimensional Embedding Vector:</div>
                                            <div class="vector-visualization">
                                                <div class="vector-row">
                                                    <span class="vector-val positive">+0.234</span>
                                                    <span class="vector-val negative">-0.452</span>
                                                    <span class="vector-val positive">+0.671</span>
                                                    <span class="vector-val negative">-0.123</span>
                                                    <span class="vector-val positive">+0.891</span>
                                                    <span class="vector-val negative">-0.234</span>
                                                    <span class="vector-dots">...</span>
                                                    <span class="vector-val positive">+0.456</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="embedding-bars">
                                        <div class="embed-bar" style="height: 60%;"></div>
                                        <div class="embed-bar" style="height: 30%;"></div>
                                        <div class="embed-bar" style="height: 80%;"></div>
                                        <div class="embed-bar" style="height: 45%;"></div>
                                        <div class="embed-bar" style="height: 90%;"></div>
                                        <div class="embed-bar" style="height: 25%;"></div>
                                        <div class="embed-bar" style="height: 70%;"></div>
                                        <div class="embed-bar" style="height: 55%;"></div>
                                    </div>
                                </div>

                                <div class="embedding-properties">
                                    <div class="property-title">ðŸ§¬ What Do These Numbers Mean?</div>
                                    <div class="property-grid">
                                        <div class="property-item">
                                            <div class="property-icon">ðŸ“Š</div>
                                            <div class="property-name">Semantic Meaning</div>
                                            <div class="property-desc">Different dimensions capture different aspects: grammar, context, topic, sentiment</div>
                                        </div>
                                        <div class="property-item">
                                            <div class="property-icon">ðŸ”—</div>
                                            <div class="property-name">Relationships</div>
                                            <div class="property-desc">Similar words have similar vectors. "king" - "man" + "woman" â‰ˆ "queen"</div>
                                        </div>
                                        <div class="property-item">
                                            <div class="property-icon">ðŸ“</div>
                                            <div class="property-name">Distance = Similarity</div>
                                            <div class="property-desc">Words with close vectors are semantically related</div>
                                        </div>
                                        <div class="property-item">
                                            <div class="property-icon">ðŸŽ“</div>
                                            <div class="property-name">Learned Automatically</div>
                                            <div class="property-desc">The model learns these representations during training</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="conversion-note">
                                    <strong>Key Insight:</strong> Embeddings transform discrete tokens into continuous vectors in a high-dimensional "semantic space" where similar meanings are close together. This allows the neural network to understand relationships and patterns in language mathematically!
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flow-arrow">â†“</div>

                    <!-- Transformer Core -->
                    <div class="arch-layer arch-layer-large" id="transformerLayer">
                        <div class="arch-header">
                            <span class="arch-icon">ðŸ§ </span>
                            <span class="arch-title">Transformer Neural Network - Internal Operations</span>
                        </div>
                        <div class="arch-content">
                            
                            <!-- Detailed Attention Mechanism -->
                            <div class="transformer-detailed-section">
                                <div class="detailed-section-title">1. Multi-Head Self-Attention Mechanism</div>
                                <div class="attention-detailed">
                                    <div class="attention-step-box">
                                        <div class="step-title">Step A: Create Q, K, V Matrices</div>
                                        <div class="qkv-grid">
                                            <div class="qkv-item query">
                                                <div class="qkv-label">Query (Q)</div>
                                                <div class="qkv-desc">"What am I looking for?"</div>
                                                <div class="matrix-viz">
                                                    <div class="matrix-row"></div>
                                                    <div class="matrix-row"></div>
                                                    <div class="matrix-row"></div>
                                                </div>
                                            </div>
                                            <div class="qkv-item key">
                                                <div class="qkv-label">Key (K)</div>
                                                <div class="qkv-desc">"What do I contain?"</div>
                                                <div class="matrix-viz">
                                                    <div class="matrix-row"></div>
                                                    <div class="matrix-row"></div>
                                                    <div class="matrix-row"></div>
                                                </div>
                                            </div>
                                            <div class="qkv-item value">
                                                <div class="qkv-label">Value (V)</div>
                                                <div class="qkv-desc">"What information do I have?"</div>
                                                <div class="matrix-viz">
                                                    <div class="matrix-row"></div>
                                                    <div class="matrix-row"></div>
                                                    <div class="matrix-row"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="math-formula">
                                            Q = Input Ã— W<sub>Q</sub> | K = Input Ã— W<sub>K</sub> | V = Input Ã— W<sub>V</sub>
                                        </div>
                                    </div>

                                    <div class="attention-step-box">
                                        <div class="step-title">Step B: Calculate Attention Scores</div>
                                        <div class="attention-calculation">
                                            <div class="calc-step">
                                                <span class="calc-text">Q Â· K<sup>T</sup></span>
                                                <span class="calc-arrow">â†’</span>
                                                <span class="calc-text">Dot Product</span>
                                            </div>
                                            <div class="attention-matrix">
                                                <div class="attention-grid-header">
                                                    <span></span>
                                                    <span>What</span>
                                                    <span>is</span>
                                                    <span>AI</span>
                                                    <span>?</span>
                                                </div>
                                                <div class="attention-grid-row">
                                                    <span class="row-label">What</span>
                                                    <span class="score high">0.9</span>
                                                    <span class="score medium">0.6</span>
                                                    <span class="score low">0.3</span>
                                                    <span class="score low">0.2</span>
                                                </div>
                                                <div class="attention-grid-row">
                                                    <span class="row-label">is</span>
                                                    <span class="score medium">0.5</span>
                                                    <span class="score high">0.9</span>
                                                    <span class="score medium">0.7</span>
                                                    <span class="score low">0.3</span>
                                                </div>
                                                <div class="attention-grid-row">
                                                    <span class="row-label">AI</span>
                                                    <span class="score low">0.2</span>
                                                    <span class="score medium">0.6</span>
                                                    <span class="score high">0.9</span>
                                                    <span class="score medium">0.5</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="math-formula">
                                            Attention(Q, K, V) = softmax(QÂ·K<sup>T</sup> / âˆšd<sub>k</sub>) Â· V
                                        </div>
                                    </div>

                                    <div class="attention-step-box">
                                        <div class="step-title">Step C: Multi-Head Parallel Processing</div>
                                        <div class="attention-heads-detailed">
                                            <div class="attention-head-detailed">
                                                <div class="head-label">Head 1</div>
                                                <div class="head-focus">Focuses on syntax</div>
                                            </div>
                                            <div class="attention-head-detailed">
                                                <div class="head-label">Head 2</div>
                                                <div class="head-focus">Focuses on semantics</div>
                                            </div>
                                            <div class="attention-head-detailed">
                                                <div class="head-label">Head 3</div>
                                                <div class="head-focus">Focuses on context</div>
                                            </div>
                                            <div class="attention-head-detailed">
                                                <div class="head-label">Head 4</div>
                                                <div class="head-focus">Focuses on position</div>
                                            </div>
                                        </div>
                                        <div class="conversion-note">
                                            Each head learns different relationships. Outputs are concatenated and transformed.
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Feed Forward Network Details -->
                            <div class="transformer-detailed-section">
                                <div class="detailed-section-title">2. Feed Forward Network</div>
                                <div class="ffn-detailed">
                                    <div class="ffn-flow">
                                        <div class="ffn-stage">
                                            <div class="ffn-stage-label">Input</div>
                                            <div class="ffn-neurons">
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                            </div>
                                            <div class="dimension-label">768 dimensions</div>
                                        </div>
                                        <div class="ffn-arrow">â†’</div>
                                        <div class="ffn-stage">
                                            <div class="ffn-stage-label">Dense Layer 1</div>
                                            <div class="ffn-neurons">
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                            </div>
                                            <div class="dimension-label">3072 dimensions</div>
                                        </div>
                                        <div class="ffn-arrow">â†’</div>
                                        <div class="ffn-stage">
                                            <div class="ffn-stage-label">ReLU Activation</div>
                                            <div class="activation-viz">
                                                <div class="activation-graph">
                                                    <div class="activation-line"></div>
                                                </div>
                                                <div class="activation-formula">f(x) = max(0, x)</div>
                                            </div>
                                        </div>
                                        <div class="ffn-arrow">â†’</div>
                                        <div class="ffn-stage">
                                            <div class="ffn-stage-label">Dense Layer 2</div>
                                            <div class="ffn-neurons">
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                                <div class="neuron-small"></div>
                                            </div>
                                            <div class="dimension-label">768 dimensions</div>
                                        </div>
                                    </div>
                                    <div class="conversion-note">
                                        <strong>Purpose:</strong> Applies non-linear transformations to each position independently. Expands to higher dimensions for complex pattern recognition, then projects back.
                                    </div>
                                </div>
                            </div>

                            <!-- Residual Connections & Layer Norm -->
                            <div class="transformer-detailed-section">
                                <div class="detailed-section-title">3. Residual Connections & Layer Normalization</div>
                                <div class="residual-flow">
                                    <div class="residual-diagram">
                                        <div class="residual-path main-path">
                                            <div class="path-label">Main Path</div>
                                            <div class="path-box">Input (X)</div>
                                            <div class="path-arrow">â†“</div>
                                            <div class="path-box">Attention / FFN</div>
                                            <div class="path-arrow">â†“</div>
                                            <div class="path-box">Transform(X)</div>
                                        </div>
                                        <div class="residual-connection">
                                            <div class="connection-line"></div>
                                            <div class="connection-label">Skip Connection</div>
                                        </div>
                                        <div class="residual-add">
                                            <div class="add-symbol">âŠ•</div>
                                            <div class="add-label">Add & Normalize</div>
                                            <div class="add-formula">LayerNorm(X + Transform(X))</div>
                                        </div>
                                    </div>
                                    <div class="conversion-note">
                                        <strong>Why?</strong> Residual connections prevent vanishing gradients and allow training of very deep networks (100+ layers). Layer normalization stabilizes training.
                                    </div>
                                </div>
                            </div>

                            <div class="layer-repeat">â†» This entire block repeats 12-96 times (layers) â†»</div>
                            <div class="conversion-note" style="text-align: center; margin-top: 15px;">
                                Each layer refines the representation, capturing increasingly abstract patterns and relationships in the data.
                            </div>
                        </div>
                    </div>

                    <div class="flow-arrow">â†“</div>

                    <!-- Output Processing -->
                    <div class="arch-layer" id="outputLayer">
                        <div class="arch-header">
                            <span class="arch-icon">âš¡</span>
                            <span class="arch-title">Output Processing</span>
                        </div>
                        <div class="arch-content">
                            <div class="process-box">
                                <div class="process-step">Probability Distribution</div>
                                <div class="probability-bars">
                                    <div class="prob-bar" style="width: 60%;">
                                        <span>AI (60%)</span>
                                    </div>
                                    <div class="prob-bar" style="width: 25%;">
                                        <span>Artificial (25%)</span>
                                    </div>
                                    <div class="prob-bar" style="width: 15%;">
                                        <span>Intelligence (15%)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="process-box">
                                <div class="process-step">Token Selection</div>
                                <div class="selected-token">AI âœ“</div>
                            </div>
                        </div>
                    </div>

                    <div class="flow-arrow">â†“</div>

                    <!-- Generation Loop -->
                    <div class="arch-layer" id="generationLoop">
                        <div class="arch-header">
                            <span class="arch-icon">ðŸ”„</span>
                            <span class="arch-title">Generation Loop</span>
                        </div>
                        <div class="arch-content">
                            <div class="loop-indicator">
                                <div class="loop-arrow">â†»</div>
                                <div class="loop-text">Repeat until complete response</div>
                            </div>
                            <div class="generated-sequence">
                                <span class="gen-token">AI</span>
                                <span class="gen-token">is</span>
                                <span class="gen-token">the</span>
                                <span class="gen-token">simulation</span>
                                <span class="gen-token">of</span>
                                <span class="gen-token">human</span>
                                <span class="gen-token">intelligence</span>
                                <span class="gen-token">...</span>
                            </div>
                        </div>
                    </div>

                    <div class="flow-arrow">â†“</div>

                    <!-- Final Output -->
                    <div class="arch-layer" id="finalOutput">
                        <div class="arch-header">
                            <span class="arch-icon">ðŸ’¬</span>
                            <span class="arch-title">Final Response</span>
                        </div>
                        <div class="arch-content">
                            <div class="final-response">
                                "AI is the simulation of human intelligence in machines that are programmed to think and learn like humans..."
                            </div>
                        </div>
                    </div>
                </div>

                <button class="interactive-btn" onclick="animateSystemFlow()">
                    <span>ðŸŽ¬ Animate System Flow</span>
                </button>
            </div>

            <div class="key-concept">
                <h3>Key System Components</h3>
                <ul>
                    <li><strong>Input Processing:</strong> Converts human text into numerical representations</li>
                    <li><strong>Transformer Stack:</strong> Multiple layers process and understand context</li>
                    <li><strong>Attention Mechanism:</strong> Focuses on relevant parts of the input</li>
                    <li><strong>Feed Forward Networks:</strong> Applies learned transformations</li>
                    <li><strong>Output Generation:</strong> Predicts and selects next tokens iteratively</li>
                </ul>
            </div>
        </section>

        <!-- Section 10: Recap -->
        <section class="section">
            <span class="section-number">10 â€” RECAP</span>
            <h2>Putting It All Together</h2>
            <p>
                Let's trace the complete journey from your question to the LLM's response:
            </p>

            <div class="card">
                <div style="background: rgba(0,0,0,0.3); padding: 30px; border-radius: 10px;">
                    <h3 style="color: var(--accent-primary); margin-bottom: 25px;">Complete LLM Pipeline</h3>
                    
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">1. Input Your Question</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">You type a message or question</p>
                        </div>
                        
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">2. Tokenization</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">Text is broken into tokens</p>
                        </div>
                        
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">3. Embedding</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">Tokens converted to numbers the model can process</p>
                        </div>
                        
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">4. Transformer Processing</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">Neural network with attention mechanisms analyzes context</p>
                        </div>
                        
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">5. Prediction</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">Model predicts next token based on learned patterns</p>
                        </div>
                        
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">6. Generation Loop</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">Repeats prediction until complete response is formed</p>
                        </div>
                        
                        <div style="padding: 20px; background: rgba(0, 217, 255, 0.1); border-left: 4px solid var(--accent-primary); border-radius: 8px;">
                            <strong style="color: var(--accent-primary);">7. Output</strong>
                            <p style="margin: 10px 0 0 0; font-size: 1rem;">Final response delivered to you!</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="analogy">
                <div class="analogy-title">ðŸŽ“ Final Thought</div>
                <p>
                    LLMs are like incredibly well-read assistants who have consumed vast amounts of text and learned to predict and generate language. They don't truly "think" or "understand" like humans, but they're remarkably good at pattern matching and text generation. They're tools that can help with writing, learning, problem-solving, and creativityâ€”when used thoughtfully!
                </p>
            </div>
        </section>

        <footer>
            <p>Congratulations! You now understand the fundamentals of how Large Language Models work! ðŸŽ‰</p>
            <p style="margin-top: 20px; font-size: 0.9rem;">Continue exploring and learning about AI technology</p>
        </footer>
    </div>

    <script>
        // Progress bar
        window.addEventListener('scroll', () => {
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight - windowHeight;
            const scrolled = window.scrollY;
            const progress = (scrolled / documentHeight) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        });

        // Intersection Observer for sections
        const sections = document.querySelectorAll('.section');
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    entry.target.classList.remove('hidden');
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            // Don't hide the first section
            const sectionNumber = section.querySelector('.section-number');
            observer.observe(section);
        });

        // Interactive generation example
        function generateExample() {
            const display = document.getElementById('outputDisplay');
            const sentences = [
                "Large language models are fascinating because they can understand and generate human-like text...",
                "The weather today is beautiful, perfect for a walk in the park...",
                "Artificial intelligence is transforming how we interact with technology...",
                "The key to learning anything new is patience, practice, and persistence..."
            ];
            
            const randomSentence = sentences[Math.floor(Math.random() * sentences.length)];
            display.classList.add('active');
            display.innerHTML = '<div class="typing-effect" style="white-space: normal;">' + randomSentence + '</div>';
            
            // Reset after animation
            setTimeout(() => {
                const typingDiv = display.querySelector('.typing-effect');
                if (typingDiv) {
                    typingDiv.style.animation = 'none';
                    typingDiv.style.borderRight = 'none';
                }
            }, 3500);
        }

        // Animate system flow through architecture
        function animateSystemFlow() {
            const layers = [
                'inputLayer',
                'preprocessLayer',
                'transformerLayer',
                'outputLayer',
                'generationLoop',
                'finalOutput'
            ];
            
            // Reset all layers
            layers.forEach(layerId => {
                const layer = document.getElementById(layerId);
                if (layer) layer.classList.remove('active');
            });
            
            // Animate each layer sequentially
            layers.forEach((layerId, index) => {
                setTimeout(() => {
                    const layer = document.getElementById(layerId);
                    if (layer) {
                        layer.classList.add('active');
                        layer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    
                    // Remove active class after some time
                    setTimeout(() => {
                        if (index < layers.length - 1) {
                            layer.classList.remove('active');
                        }
                    }, 1500);
                }, index * 2000);
            });
        }

        // Add subtle parallax effect to demo boxes
        document.querySelectorAll('.demo-box').forEach(box => {
            box.addEventListener('mousemove', (e) => {
                const rect = box.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const rotateX = (y - centerY) / 10;
                const rotateY = (centerX - x) / 10;
                
                box.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
            });
            
            box.addEventListener('mouseleave', () => {
                box.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale(1)';
            });
        });
    </script>
</body>
</html>
